## 接口url
http://118.178.224.68:3333

## 管理员操作
### 注册
##### 请求类型：post
##### 请求地址：/admin/user/reg
##### 必须登陆：否

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
user|string|是|wuyanzu|注册用户名
pass|string|是|123456|注册密码
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示注册ok，失败时是失败原因

##### 返回数据
```
{
    "err": 0,
    "msg": "注册ok"
}
```

### 登录
##### 请求类型：post
##### 请求地址：/admin/user/login
##### 必须登陆：否

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
user|string|是|wuyanzu|注册用户名
pass|string|是|123456|注册密码
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示登录成功，失败时是失败原因
userInfo|string|||用户信息
-_id|string|||用户的id
-user|string|||用户名
-token|string|||用户唯一token

##### 返回数据
```
{
    "err": 0,
    "msg": "登录成功",
    "userInfo": {
        "_id": "5e78b637b602b89a64211ec5",
        "user": "wuyanzu",
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7Il9pZCI6IjVlNzhiNjM3YjYwMmI4OWE2NDIxMWVjNSIsInVzZXIiOiJ3dXlhbnp1In0sImN0aW1lIjoxNTg1MDA3MTU2MzQxLCJleHBpcmVzIjo2MDQ4MDAwMDAsImlhdCI6MTU4NTAwNzE1Nn0.spVKc-cdRgjG5UOzRBAgt_7S9gqhDRhQio3lmrnLrQ4"
    }
}
```
### 登出
##### 请求类型：post
##### 请求地址：/admin/user/logout
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
_id|string|是|wuyanzu|用户名对应的id
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示登录成功，失败时是失败原因

##### 返回数据
```
{
    "err": -997,
    "msg": "token丢失"
}
```
## 物品操作
### 添加物品
##### 请求类型：post
##### 请求地址：/admin/goods/add
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
name|string|是|iphone x|物品型号
stock|number|是|100|物品库存
price|number|是|2500|物品价格
path|string|是|http://public/img/1585059500415_768935139.jpeg|物品缩略图
desc|string|是|还不错|物品性能描述
unit|string|是|台|物品单位
kind|string|是|全球奶粉|物品种类
putaway|number|是|0|物品状态(-1:已下架;0:未上架;1:已上架)
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示插入成功，失败时是失败原因

##### 返回数据
```
{
    "err": 0,
    "msg": "插入成功"
}
```
### 查询物品
##### 请求类型：post
##### 请求地址：/admin/goods/infos
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
||| |
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
list|array|||查询到的数据
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示查询成功，失败时是失败原因

##### 返回数据
```
{
    "list": [
        {
            "_id": "5e7a0ca7d71e7681b8c77183",
            "name": "iPhone 11",
            "stock": 100,
            "price": 2500,
            "path": "asdasds",
            "desc": "还不错",
            "unit": "台",
            "putaway": 0,
            "__v": 0
        },
        {
            "_id": "5e7a166562e41249607a264d",
            "name": "iPhone X",
            "stock": 100,
            "price": 2500,
            "path": "asdasds",
            "desc": "还不错",
            "unit": "台",
            "putaway": 0,
            "__v": 0
        }
    ],
    "err": 0,
    "msg": "查询成功"
}
```
### 查询(通过id)
##### 请求类型：post
##### 请求地址：/admin/goods/getInfoById
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
_id|number|是|5e7a166562e41249607a264d|物品id
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
list|array|||查询到的数据
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示查询成功，失败时是失败原因

##### 返回数据
```
{
    "list": [
        {
            "_id": "5e7a166562e41249607a264d",
            "name": "iPhone X",
            "stock": 100,
            "price": 2500,
            "path": "asdasds",
            "desc": "还不错",
            "unit": "台",
            "putaway": 0,
            "__v": 0
        }
    ],
    "err": 0,
    "msg": "查询成功"
}
```
### 删除物品
##### 请求类型：post
##### 请求地址：/admin/goods/del
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
_id|number|是|5e7a166562e41249607a264d|物品id
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示删除成功，失败时是失败原因

##### 返回数据
```
{
    "err": 0,
    "msg": "删除成功"
}
```
### 更新信息
##### 请求类型：post
##### 请求地址：/admin/goods/update
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
name|string|是|iphone x|物品型号
stock|number|是|100|物品库存
price|number|是|2500|物品价格
path|string|是|http://public/img/1585059500415_768935139.jpeg|物品缩略图
desc|string|是|还不错|物品性能描述
unit|string|是|台|物品单位
kind|string|是|全球奶粉|物品种类
putaway|number|是|0|物品状态(-1:已下架;0:未上架;1:已上架)
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示修改成功，失败时是失败原因

##### 返回数据
```
{
    "err": 0,
    "msg": "修改成功"
}
```
### 分页查询
##### 请求类型：post
##### 请求地址：/admin/goods/getInfos
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
page|number|是|1|页数(默认值为1)
pageSize|number|是|2|每页显示几项(默认值为2)
##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示修改成功，失败时是失败原因
list|array|||查询到的数据
sumCount|number|||总项数

##### 返回数据
```
{
    "err": 0,
    "msg": "查询成功",
    "list": [
        {
            "_id": "5e7a0ca7d71e7681b8c77183",
            "name": "iPhone 11",
            "stock": 100,
            "price": 2500,
            "path": "asdasds",
            "desc": "还不错",
            "unit": "台",
            "putaway": 0,
            "__v": 0
        },
        {
            "_id": "5e7a166562e41249607a264d",
            "name": "iPhone X",
            "stock": 100,
            "price": 2500,
            "path": "asdasds",
            "desc": "还不错",
            "unit": "台",
            "putaway": 0,
            "__v": 0
        }
    ],
    "sumCount": 2
}
```
### 图片上传
##### 请求类型：post
##### 请求地址：/admin/upload/img
##### 必须登陆：是

##### 请求参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
key|string|是|submit|key值和接口统一
file|string|是||上传本地图片

##### 返回参数
参数名称|参数类型|是否必须|参考值|说明
--------|--------|--------|------|----
err|number|||'0'为成功，其他为失败
msg|string|||信息提示。成功时显示修改成功，失败时是失败原因
path|string|||图片路径

##### 返回数据
```
{
    "err": 0,
    "msg": "上传成功",
    "path": "/public/img/1585059500415_768935139.jpeg"
}
```